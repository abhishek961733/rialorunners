<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anime Runner Game Top Logo</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{width:100%;height:100%;overflow:hidden;font-family:sans-serif;background:#0b0f14;}
canvas{display:block;}

/* Score and GameOver UI */
#score{position:absolute;top:16px;left:16px;font-size:24px;color:#00ffff;text-shadow:1px 1px 3px black;}
#gameOver{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:36px;color:red;display:none;text-shadow:2px 2px 5px black;text-align:center;}

/* RIALO logo on top */
#logo{
  position:absolute;top:20px;left:50%;transform:translateX(-50%);
  width:120px;height:120px;border-radius:50%;overflow:hidden;
  border:5px solid rgba(255,255,255,0.1);
  box-shadow:0 0 40px rgba(0,200,255,0.2),0 0 60px rgba(0,255,255,0.1) inset;
  animation: rotateLogo 16s linear infinite;
}
#logo img{width:100%;height:100%;object-fit:cover;}
@keyframes rotateLogo{0%{transform:translateX(-50%) rotate(0deg);}100%{transform:translateX(-50%) rotate(360deg);}}
</style>
</head>
<body>
<div id="score">Score: 0</div>
<div id="gameOver">Game Over! Press R to Restart</div>
<div id="logo">
  <img src="https://pbs.twimg.com/profile_images/1950265537784926208/qbjSWMDP_400x400.jpg" alt="RIALO Logo">
</div>
<canvas id="gameCanvas"></canvas>

<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

// ---------------- Game Variables ----------------
let player={
    x:150,
    y:canvas.height-150,
    width:60,
    height:80,
    dy:0,
    gravity:1.2,
    jumpForce:20,
    grounded:true,
    frameX:0,
    frameY:0,
    sprite:null,
    spriteWidth:48,
    spriteHeight:48,
    scale:2
};

let obstacles=[];
let obstacleInterval=120;
let obstacleTimer=0;
let gameSpeed=6;
let score=0;
let gameOver=false;

// ---------------- Load Anime Sprite Sheet ----------------
player.sprite = new Image();
player.sprite.src = 'https://i.ibb.co/4Zx6b7x/anime-runner.png'; // Replace with real running sprite sheet

// ---------------- Floating Background ----------------
let floatingElements=[];
const numElements=40;
for(let i=0;i<numElements;i++){
    floatingElements.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        size:Math.random()*30+10,
        dy:Math.random()*1+0.2,
        dx:Math.random()*0.5-0.25,
        color:`rgba(0,200,255,${Math.random()*0.3+0.2})`
    });
}

// ---------------- Draw Functions ----------------
function drawPlayer(){
    if(player.sprite.complete){
        ctx.drawImage(
            player.sprite,
            player.frameX*player.spriteWidth,
            player.frameY*player.spriteHeight,
            player.spriteWidth,
            player.spriteHeight,
            player.x,
            player.y,
            player.spriteWidth*player.scale,
            player.spriteHeight*player.scale
        );
        // animate frames
        if(player.frameX<3) player.frameX++; else player.frameX=0;
    } else{
        ctx.fillStyle='#ffcc00';
        ctx.fillRect(player.x,player.y,player.width,player.height);
    }
}

function drawObstacles(){
    obstacles.forEach(ob=>{
        ctx.fillStyle='#ff4444';
        ctx.fillRect(ob.x,ob.y,ob.width,ob.height);
    });
}

function drawBackground(){
    floatingElements.forEach(el=>{
        ctx.beginPath();
        ctx.arc(el.x,el.y,el.size,0,Math.PI*2);
        ctx.fillStyle=el.color;
        ctx.fill();
        el.x+=el.dx;
        el.y+=el.dy;
        if(el.y-el.size>canvas.height) el.y=-el.size;
        if(el.x-el.size>canvas.width) el.x=-el.size;
        if(el.x+el.size<0) el.x=canvas.width+el.size;
    });
}

// ---------------- Game Functions ----------------
function spawnObstacle(){
    const width=Math.random()*50+30;
    const height=Math.random()*80+30;
    obstacles.push({
        x:canvas.width,
        y:canvas.height-height-70,
        width:width,
        height:height
    });
}

function checkCollision(r1,r2){
    return(r1.x<r2.x+r2.width && r1.x+r1.width>r2.x && r1.y<r2.y+r2.height && r1.y+r1.height>r2.y);
}

function update(){
    if(gameOver) return;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    drawBackground();

    // Player physics
    player.dy+=player.gravity;
    player.y+=player.dy;
    if(player.y+player.height>=canvas.height-70){
        player.y=canvas.height-70-player.height;
        player.dy=0;
        player.grounded=true;
    }else{
        player.grounded=false;
    }

    drawPlayer();

    // Obstacles
    obstacleTimer++;
    if(obstacleTimer>=obstacleInterval){
        spawnObstacle();
        obstacleTimer=0;
    }

    obstacles.forEach((ob,index)=>{
        ob.x-=gameSpeed;
        drawObstacles();
        if(checkCollision(player,ob)){
            gameOver=true;
            document.getElementById('gameOver').style.display='block';
        }
        if(ob.x+ob.width<0){
            obstacles.splice(index,1);
            score++;
            document.getElementById('score').textContent='Score: '+score;
        }
    });

    // Gradually increase speed
    if(score>0 && score%10===0) gameSpeed=6+score/10;

    requestAnimationFrame(update);
}

// ---------------- Controls ----------------
window.addEventListener('keydown',e=>{
    if((e.code==='Space'||e.code==='ArrowUp')&&player.grounded) player.dy=-player.jumpForce;
    if(e.code==='KeyR' && gameOver) restartGame();
});

function restartGame(){
    obstacles=[];
    player.y=canvas.height-150;
    player.dy=0;
    score=0;
    gameOver=false;
    gameSpeed=6;
    document.getElementById('score').textContent='Score: 0';
    document.getElementById('gameOver').style.display='none';
    update();
}

// Start Game
update();

</script>
</body>
</html>
